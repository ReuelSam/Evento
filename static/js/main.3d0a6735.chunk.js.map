{"version":3,"sources":["post/apiPost.js","images/event.jpg","auth/index.js","post/Posts.js","images/Image1.png","images/Image2.png","images/Image3.png","core/Info.js","core/Home.js","images/evento_logo_white.png","core/Menu.js","core/MenuMobile.js","user/Signup.js","user/SocialLogin.js","user/apiUser.js","user/Signin.js","images/avatar.png","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","auth/PrivateRoute.js","user/FindPeople.js","post/NewPost.js","post/Comment.js","post/SinglePost.js","post/EditPost.js","post/AttendPost.js","user/ForgotPassword.js","user/ResetPassword.js","user/UnknownProfile.js","MainRouter.js","App.js","index.js"],"names":["singlePost","postId","fetch","process","method","then","response","json","catch","err","console","log","remove","token","headers","Accept","Authorization","error","like","userId","body","JSON","stringify","unlike","notInterested","undoNotInterested","comment","uncomment","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","tagNames","options","Posts","init","state","loadAll","option","setState","loading","message","loadPosts","page","list","user","_id","data","posts","loadMore","number","loadLess","generateTags","tags","map","value","index","className","tagsList","checkLoadAll","event","target","checked","setOption","renderFilters","type","onChange","id","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","style","width","onClick","renderPosts","post","i","posterId","postedBy","posterName","name","src","Date","getTime","alt","title","onError","DefaultPost","height","fontSize","substring","to","created","toDateString","this","length","Component","Info","isDesktopOrLaptop","useMediaQuery","query","data-ride","data-target","data-slide-to","Image1","class","Image2","Image3","href","role","data-slide","aria-hidden","Home","fontFamily","backgroundColor","color","borderRadius","display","isActive","history","path","location","pathname","withRouter","padding","cursor","push","aria-controls","aria-label","Signup","handleChange","open","tagChecked","flag","indexOf","arr","clickSubmit","preventDefault","password","repassword","signup","createCheckbox","label","createCheckboxes","tagsForm","signupForm","SocialLogin","responseGoogle","profileObj","socialLogin","googleId","imageUrl","status","props","getTags","redirectToReferrer","clientId","buttonText","onSuccess","onFailure","read","follow","followId","unfollow","unfollowId","updateTags","userTags","attend","unattend","Signin","signin","redirectToReferer","showTags","submitTags","signinForm","margin","DeleteUser","redirect","deleteAccount","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","person","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","redirectToSignin","load","listByUser","match","params","photoUrl","about","Users","renderUsers","users","EditProfile","redirectToProfile","files","undefined","defaultImage","imagePath","URL","createObjectURL","fileSize","size","userData","set","isValid","test","update","auth","updateUser","accept","FormData","PrivateRoute","component","rest","render","from","FindPeople","clickFollow","toFollow","splice","followMessage","findPeople","NewPost","postData","tagCheck","create","photo","newPostForm","venue","dateAndTime","Comment","text","addComment","e","newComment","updateComments","comments","deleteComment","reverse","onSubmit","placeholder","posterProfile","SinglePost","redirectToHome","likes","checkLike","componentDidMount","change","likeToggle","callApi2","notInterestedToggle","deletePost","renderPost","objectFit","EditPost","editPostForm","AttendPost","getAttend","ForgotPassword","autoFocus","ResetPassword","resetPassword","resetInfo","newPassword","rePassword","resetPasswordLink","resetPasswordToken","UnknownProfile","MainRouter","MenuMobile","exact","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d0a6735.chunk.js","sourcesContent":["export const create = (userId, token, post) => {\r\n    console.log(post);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const list = (loadAll, option, userId, page) => {\r\n    console.log(userId);\r\n    if ( loadAll )\r\n    {    \r\n        if (option === 0)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 1)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/oldest/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 2)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/popular/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n    }\r\n    else\r\n    {\r\n        if (option === 0)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 1)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/oldest/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 2)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/popular/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n    }\r\n}\r\n\r\nexport const singlePost = postId => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listByUser = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const remove = (postId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const update = (postId, token, post) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const like = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/like`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unlike = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const notInterested = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/notInteresed`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const undoNotInterested = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/notInteresed/undo`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const comment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const uncomment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}","export default __webpack_public_path__ + \"static/media/event.9994734f.jpg\";","export const signup = (user) => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n}; \r\n\r\nexport const signin = (user) => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n};  \r\n\r\nexport const authenticate = (jwt, next) => {\r\n    if(typeof window !== \"undefined\")\r\n    {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n        next();\r\n    }\r\n}\r\n\r\n\r\nexport const signout = (next) => {\r\n    // two checks need to be performed\r\n    // delete token from browser local storage\r\n    if (typeof window !== \"undefined\")\r\n    {\r\n        localStorage.removeItem(\"jwt\");\r\n    }\r\n    \r\n    next(); // callback function that redirects user to a certain page. Done in client side\r\n    \r\n    // set token as valid at the backend. Server Side\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n       return response.json() \r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == \"undefined\")\r\n    {\r\n        return false;\r\n    }\r\n\r\n    if (localStorage.getItem(\"jwt\"))\r\n    {\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport const forgotPassword = email => {\r\n    console.log(\"email: \", email);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ email })\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n \r\nexport const resetPassword = resetInfo => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(resetInfo)\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const socialLogin = user => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n}","import React, { Component } from 'react';\r\nimport { list } from './apiPost';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { isAuthenticated } from '../auth';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\nconst options = [\"Recent\", \"Oldest\", \"Popular\"];\r\n\r\nclass Posts extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            posts: [null],\r\n            loading: true,\r\n            loadAll: false,\r\n            option: 0,\r\n            message: \"Recent Events from Following\",\r\n            page: 1\r\n\r\n        }\r\n    }\r\n\r\n    init = () => {\r\n        console.log(this.state.loadAll ,this.state.option, options[this.state.option])\r\n        // list method written in src/user/apiUser.js\r\n        this.setState({loading: true, message: `${options[this.state.option]} Events from ${this.state.loadAll ? 'All Users' : 'Following'}`})\r\n        this.loadPosts(this.state.page);        \r\n    }\r\n\r\n    loadPosts = page => {\r\n        list(this.state.loadAll, this.state.option, isAuthenticated().user._id, page).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({posts: data, loading: false});\r\n            }\r\n        })\r\n    }\r\n\r\n    loadMore = number => {\r\n        this.setState({ page: this.state.page + number, loading: true });\r\n        this.loadPosts(this.state.page + number);\r\n    };\r\n \r\n    loadLess = number => {\r\n        this.setState({ page: this.state.page - number, loading: true });\r\n        this.loadPosts(this.state.page - number);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadPosts(this.state.page);        \r\n    }   \r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-12 mr-1' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n    checkLoadAll = () => event => {\r\n        this.setState({loadAll: event.target.checked})\r\n    }\r\n\r\n    setOption = (value) => {\r\n        this.setState({option: value});\r\n    }\r\n\r\n    renderFilters = () => {\r\n        return (\r\n            <div>\r\n                \r\n                \r\n                <div className=\"jumbotron\">\r\n\r\n                <h3 className=\"mb-2\">Filters</h3>\r\n\r\n                    <center>\r\n                    <label className=\"btn btn-primary ml-3\">\r\n                        <input type=\"checkbox\" className=\"form-check-input\" onChange={this.checkLoadAll()} checked={this.state.loadAll}/>\r\n                        All Events\r\n                    </label>\r\n                   \r\n                    <div className=\"dropdown d-inline\">\r\n                        <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            {options[this.state.option]}\r\n                        </button>\r\n                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                            \r\n                                <button className=\"btn\" style={{width: \"170px\"}} onClick={() => this.setOption(0)}>Recent</button>                                    \r\n                           \r\n                                <button className=\"btn\" style={{width: \"170px\"}} onClick={() => this.setOption(1)}>Oldest</button>                                    \r\n                           \r\n                                <button className=\"btn\" style={{width: \"170px\"}} onClick={() => this.setOption(2)}>Popular</button>                                    \r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={this.init} className=\"btn btn-raised btn-primary mt-5 d-block\">Filter</button>\r\n                    </center>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    renderPosts = (posts) => {\r\n        return (\r\n            <div className=\"row\">\r\n            {   posts.map((post , i) => {\r\n                    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n                    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n                    return (\r\n                        <div className=\"card col-md-4 bg-light\" key={i}>\r\n                            \r\n                            <div className=\"card-body\">\r\n                                <img \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                                    alt={post.title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}\r\n                                    className=\"img-thumbnail mb-3 \"\r\n                                    style={{height: \"200px\", width:\"100%\"}}    \r\n                                />\r\n\r\n                                \r\n                                <h5 className=\"card-title\" style={{fontSize: \"1.75em\"}}>{post.title}</h5>\r\n                                <p className=\"card-text\" style={{fontSize: \"1.25em\"}}>{post.body.substring(0, 100)}</p>\r\n                                <br />\r\n                                <p className=\"font-italic mark\">\r\n                                    Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                                    on {new Date(post.created).toDateString()}\r\n                                </p>\r\n                                {this.tagsList(post.tags)}\r\n                                <Link to={`/post/${post._id}`} className=\"btn btn-raised btn-primary btn-sm\">Expand</Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}   \r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        const {posts, loading, page} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                \r\n                {this.renderFilters()}\r\n\r\n                <h2 className=\"mt-5 mb-5\">{this.state.message}</h2>\r\n\r\n                <h2 className=\"mt-5 mb-5\">\r\n                    {!posts.length ? \"No more posts\" : \"\"}\r\n                </h2>\r\n\r\n                \r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPosts(posts))}\r\n\r\n                \r\n\r\n                {page > 1 ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\r\n                        onClick={() => this.loadLess(1)}\r\n                    >\r\n                        Previous ({this.state.page - 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n \r\n                {posts.length ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-primary mt-5 mb-5\"\r\n                        onClick={() => this.loadMore(1)}\r\n                    >\r\n                        Next ({page + 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  Posts;","export default __webpack_public_path__ + \"static/media/Image1.bdefbaec.png\";","export default __webpack_public_path__ + \"static/media/Image2.71e776c2.png\";","export default __webpack_public_path__ + \"static/media/Image3.d2fd3f25.png\";","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nimport Image1 from '../images/Image1.png';\r\nimport Image2 from '../images/Image2.png';\r\nimport Image3 from '../images/Image3.png';\r\n\r\n\r\nconst Info = () => {\r\n         const isDesktopOrLaptop = useMediaQuery({\r\n            query: '(min-device-width: 700px)'\r\n        })\r\n\r\n        return (\r\n            <div >\r\n                <div id=\"carouselExampleIndicators\" className=\"carousel slide mb-5\" data-ride=\"carousel\">\r\n                    <ol className=\"carousel-indicators\">\r\n                        <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\r\n                        <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\r\n                        <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\r\n                    </ol>\r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item active\">\r\n                            <img className=\"d-block w-100\" src={Image1} alt=\"First slide\" />\r\n                            <div class=\"carousel-caption \">\r\n                                <h3>What is Evento?</h3>\r\n                                {isDesktopOrLaptop ?\r\n                                (\r\n                                    <h5>Evento is a new and upcoming Social Network Platform that focuses solely on Event Management.</h5>\r\n\r\n                                )\r\n                                :\r\n                                (\r\n                                    <p>Evento is a new and upcoming Social Network Platform that focuses solely on Event Management.</p>\r\n\r\n                                )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"carousel-item\">\r\n                            <img className=\"d-block w-100\" src={Image2} alt=\"Second slide\" />\r\n                            <div class=\"carousel-caption\">\r\n                                <h3 className=\"text-dark\">Main Feature</h3>\r\n                                {isDesktopOrLaptop ?\r\n                                (\r\n                                    <h5 className=\"text-dark\">Evento allows for organizing and managing Events with utmost ease. We have a very easy to use Interface that allows for interaction and personalized user experience with our User Recommendation System.</h5>\r\n\r\n                                )\r\n                                :\r\n                                (\r\n                                    <p className=\"text-dark\">Evento allows for organizing and managing Events with utmost ease. We have a very easy to use Interface that allows for interaction and personalized user experience with our User Recommendation System.</p>\r\n                                )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"carousel-item\">\r\n                            <Link to=\"/signup\">\r\n                                <img className=\"d-block w-100\" src={Image3} alt=\"Third slide\" />\r\n                                <div class=\"carousel-caption \">\r\n                                    <h3>Get Started</h3>\r\n                                    {isDesktopOrLaptop ?\r\n                                (\r\n                                    <h5>Get Started with Evento and you can host and attend events in no time. Click the image to Register Now!</h5>\r\n\r\n                                )\r\n                                :\r\n                                (\r\n                                    <p>Get Started with Evento and you can host and attend events in no time. Click the image to Register Now!</p>\r\n                                )\r\n                                }\r\n                                </div>\r\n                            </Link>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Info;","import React from 'react';\r\nimport Posts from '../post/Posts';\r\nimport Info from './Info';\r\nimport {isAuthenticated} from '../auth';\r\nimport DefaultProfile from '../images/evento_logo_white.png';\r\n\r\nconst Home = () => (\r\n    <div style={{fontFamily: \"-moz-initial\", backgroundColor:\"#dce1e3\"}}>\r\n        <div className=\"jumbotron\" style={{  backgroundColor: \"#2f7f80\", color: \"#ffffff\", fontFamily: \"-moz-initial\" ,borderRadius: \"0px\"}}>\r\n            \r\n                <center>\r\n\r\n\r\n                    <img  style={{height: \"125px\", width: \"auto\"}} className=\"col-md-1\" src={DefaultProfile}  alt=\"Logo\"/>\r\n\r\n                    <div style={{display: \"inline\"}}>\r\n                        \r\n                    <h1>Home Page</h1>\r\n                    <h3 className=\"lead ml-2\">Welcome to Evento</h3>\r\n                    </div>\r\n                \r\n                </center>\r\n                \r\n\r\n            \r\n        </div>\r\n\r\n        {isAuthenticated() ?\r\n            (\r\n                <div className=\"container\">\r\n                    <Posts />\r\n                </div>\r\n            )\r\n            :\r\n            (\r\n                <div className=\"container\">\r\n                    <Info />\r\n                </div>\r\n            )\r\n        }\r\n    </div>\r\n    \r\n);\r\n\r\nexport default Home;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXoAAAGQBAMAAABSUbZHAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAA9QTFRFAAAA////////AP//AAAAazhTtgAAAAV0Uk5TAP/4AQHJpSP/AAAED0lEQVR4nO3bbXbTSBhEYQs2kOwI9r8pPg4klqXutNRVqtc+9/6cGamfqWMgtsXtRkRERERE9Bwt7/3eCt4ZPXr06NFXOgM9+mp3Ro8ePfqw/m3kH9e48xVnoM+dgT53BvrcGehzZ6DPnYE+dwb63Bnoc2egz52B/vGaZo0zBB298/Z/C/3Z0KvPGA+9+ozx0KvPGA+9+ozx0KvPGA+9+ozx0KvPGA9941/VeWeIHj169OjRf6lvJNAP3hk9evTo0aNHjx49evTo0Wf0dUKfC30u9LnQ50KfC30u9LnQ50KfC30u9LnQ50KfC30u9LnQ50KfC30u9LnQ50Kf6/X1TxD6XOhzoc+FPhf6XOhzoc+FPhf6XC/7vha9J/S50OdCnwt9LvS50OdCnwt9LvS50OdCnwt9LvS50OdCnwt9LvS50OdCnwu9rm8H//ta+qNHldL/PvHYBaX0h8+qpP974KErKumPH1ZI/++8I5cU0p84rY7+47gD19TRdyRnrrlWf/cM3/hFZfSf+APnVdGvHp8cvqqK/h4/fmAR/frJ1eHLiujPTV9Ef3L6IvqT09fQr/DP9mft+nXzbD/nnJ6+gv789BX05/EF9Gd/t/xTXj8xfV4/M31ePzN9XD81fVw/NX1aPzd9Wj83fVg/OX1YPzl9Vj87vUO/HH9TfXYjg354xenpDfpl+ILp6Q364R1X+FPT6/XL6BUTb0o+kuuHlxRML9cvo5fM/5K96fXDHMHrRq4fvkYyvVo/DJJM79P3L9JML9YvoyTN9GL9qEk0vVY/jBJNb9y+c5lqeuPrvsNSTe/7PadznWx6259WPZhsettPCp0LddPL9d+/pummN/1837tSOL3pvVUHp3hTsj1L+b62p1vhJ6f3fKZw14/WTRXTWz7P6a0rxVs+S+sIlb9kbx59h6id3vM5ZtMont6jbyLF05s+Q24o1dOb9A2menrX5/e7Tvn0Lv0uVD697buTHal+ept+h6qf3ve91cZqmN6n32AN0xu/M3zQOqY36h+4jumd39e+t5tEb4/Q65dduHJ663fl9umt+tb4c+L7nPrG+MLHHqz6/fGnvOus+ttP7/TuJ1y807v129eOcnr700XW6e36x/Gl0/uf7HJO79drP7h8yK7/6hNxzb1t+vvxxdNf8USjb/or9EvnjMku0H+eMXmfzp2N+kV0n21X6P8fMnub5o29+sU0/UVPUZvwF+kXy+vmsifYPdNfpV8s01/2twcs06f/1sxk6HOhz4U+F/pc6HOhz4U+F/pc6HOhz4U+F/pc6HOhz4U+F/pc6HOhz4U+F/pc6HOhz4U+F/pc6HOhz4U+F/pc6HON6J8g9LnQ50KfC30u9LnQ50KfC32uV9MTERERERFF+wV3I/7fViHXpwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path)\r\n    {\r\n        return {color: \"#000000\"}\r\n    }\r\n    else \r\n    {\r\n        return {color: \"#ffffff\"}\r\n    }\r\n};\r\n\r\nconst Menu = ({history}) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs\" style={{ backgroundColor: \"#116466\"}}>\r\n            <li className=\"nav-item\">\r\n                \r\n                <Link className=\"nav-link\" to=\"/\" style={isActive(history, \"/\")} >\r\n                    <i className=\"fa fa-home fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                </Link>   \r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/users\" style={isActive(history, \"/users\")} >\r\n                    <i className=\"fa fa-users fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />    \r\n                </Link>   \r\n            </li>\r\n\r\n            {!isAuthenticated() && (\r\n                <>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signin\" style={isActive(history, \"/signin\")}  >\r\n                            <i className=\"fa fa-sign-in fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                    </li>\r\n                    \r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signup\" style={isActive(history, \"/signup\")} >\r\n                            <i className=\"fa fa-plus-circle fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                    </li>   \r\n                </>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n                <>\r\n                    \r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/findpeople/${isAuthenticated().user._id}`} style={(isActive(history, `/user/findpeople/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-user-plus fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/post/new/${isAuthenticated().user._id}`} style={(isActive(history, `/user/post/new/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-plus-square fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/${isAuthenticated().user._id}`} style={(isActive(history, `/user/${isAuthenticated().user._id}` ))}>\r\n                        <i className=\"fa fa-user fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        <span className=\"nav-link\" style={(isActive(history, \"/signin\"), {cursor: \"pointer\", color: \"#fff\"})} onClick={() => signout(() => history.push(\"/\"))}>\r\n                            <i className=\"fa fa-power-off fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </span>\r\n                    </li>\r\n\r\n                </>\r\n            )}\r\n        </ul>\r\n    </div>\r\n);\r\n\r\n\r\n\r\n// withRouter is a higher order component. It accepts componant as an argument\r\nexport default withRouter(Menu);\r\n\r\n\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path)\r\n    {\r\n        return {color: \"#000000\"}\r\n    }\r\n    else \r\n    {\r\n        return {color: \"#ffffff\"}\r\n    }\r\n};\r\n\r\nconst HamburgerMenu = ({history}) => (\r\n\r\n    <nav className=\"navbar navbar-light\"  style={{ backgroundColor: \"#116466\"}}>\r\n\r\n        <a className=\"lead text-light ml-2\" href=\"/\">Evento</a>\r\n\r\n        <button className=\"navbar-toggler toggler-example\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent1\"\r\n        aria-controls=\"navbarSupportedContent1\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span className=\"dark-blue-text\"><i\r\n            className=\"fa fa-bars fa-1x text-light\"></i></span></button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent1\">\r\n\r\n            <ul className=\"navbar-nav mr-auto\">\r\n               \r\n\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"\" to=\"/\" style={isActive(history, \"/\")}  >\r\n                        <i className=\"fa fa-home fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                            <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                {\"   \"}Home\r\n                            </label>\r\n                        </i> \r\n                    </Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"\" to=\"/users\" style={isActive(history, \"/users\")} >\r\n                        <i className=\"fa fa-users fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                            <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                {\"   \"}Users\r\n                            </label>\r\n                        </i>     \r\n                    </Link>   \r\n                </li>\r\n\r\n                {!isAuthenticated() && (\r\n                    <>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"\" to=\"/signin\" style={isActive(history, \"/signin\")}  >\r\n                                <i className=\"fa fa-sign-in fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign In\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                        </li>\r\n                        \r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"\" to=\"/signup\" style={isActive(history, \"/signup\")} >\r\n                                <i className=\"fa fa-plus-circle fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign Up\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                        </li>   \r\n                    </>\r\n                )}\r\n\r\n                {isAuthenticated() && (\r\n                    <>\r\n                        \r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/findpeople/${isAuthenticated().user._id}`} style={(isActive(history, `/user/findpeople/${isAuthenticated().user._id}` ))}>\r\n                                <i className=\"fa fa-user-plus fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"} Suggested Users\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/post/new/${isAuthenticated().user._id}`} style={(isActive(history, `/user/post/new/${isAuthenticated().user._id}` ))}>\r\n                                <i className=\"fa fa-plus-square fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Create Event\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/${isAuthenticated().user._id}`} style={(isActive(history, `/user/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-user fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                    {\"   \"}Profile\r\n                                </label>\r\n                            </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            <span className=\"\" style={(isActive(history, \"/signin\"), {cursor: \"pointer\", color: \"#fff\"})} onClick={() => signout(() => history.push(\"/\"))}>\r\n                                <i className=\"fa fa-power-off fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign Out\r\n                                    </label>\r\n                                </i> \r\n                            </span>\r\n                        </li>\r\n\r\n                    </>\r\n                )}\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    </nav>\r\n)\r\n\r\n// withRouter is a higher order component. It accepts componant as an argument\r\nexport default withRouter(HamburgerMenu);\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { signup } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"]\r\n\r\nexport default class Signup extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n            tags: [0,0,0,0,0,0,0,0],\r\n            error: \"\"\r\n        }\r\n    }\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        this.setState({error: \"\"});\r\n        this.setState({open: false});                   // if change is made, remove success message\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({open: false});\r\n        \r\n        console.log(name + event.target.checked);\r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 0.75 : 0;\r\n        this.setState({ tags: arr });\r\n        // console.log(\"Tags: \" + this.state.tags);\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        const {name, email, password, repassword} = this.state;\r\n        let arr = this.state.tags;\r\n        arr.map((value, index) => {\r\n            if (value === 0)\r\n            {\r\n                arr[index] = 0.25;\r\n            }\r\n            return null;\r\n        })\r\n        if (password !== repassword)\r\n        {\r\n            this.setState({error: \"Entered Passwords do not match\"});\r\n            return;\r\n        }\r\n        const user = {                                  // or       const user = {             \r\n            name: name,                                 //              name,\r\n            email: email,                               //              email,\r\n            password: password,                          //              password\r\n            tags: arr\r\n        };                                              //          };\r\n        // console.log(user);\r\n        signup(user)\r\n        // checking for error response\r\n        .then(data => {\r\n            console.log(data);\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error})\r\n            }\r\n            else\r\n            {\r\n                this.setState({\r\n                    error: \"\",\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\",\r\n                    repassword: \"\",\r\n                    tags: [0,0,0,0,0,0,0,0],\r\n                    open: true              // set to true so that success message is displayed\r\n                })\r\n\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Interested Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    signupForm = (name, email, password, repassword) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={this.handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Re-enter Password</label>\r\n                <input onChange={this.handleChange(\"repassword\")} type=\"password\" className=\"form-control\" value={repassword}/>\r\n            </div>\r\n            \r\n            {this.tagsForm()}\r\n\r\n            <center>\r\n                <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\r\n            </center>\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const {name, email, password, repassword, error, open} = this.state;\r\n        return (\r\n            <div className=\"container mt-3\" style={{backgroundColor:\"#ffffff\"}}>\r\n                <br />\r\n                <h2 className=\"\">Signup</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"alert alert-info\" style={{display: open ? \"\" : \"none\"}}>\r\n                    New Account has been created successfully. Please proceed to <Link to=\"/signin\">Sign In.</Link>\r\n                </div>\r\n\r\n                {this.signupForm(name, email, password, repassword)}\r\n            \r\n                <br />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { socialLogin, authenticate } from \"../auth\";\r\n \r\nclass SocialLogin extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToReferrer: false,\r\n        };\r\n    }\r\n \r\n    responseGoogle = response => {\r\n        console.log(response);\r\n        const { googleId, name, email, imageUrl } = response.profileObj;\r\n        const user = {\r\n            password: googleId,\r\n            name: name,\r\n            email: email,\r\n            imageUrl: imageUrl\r\n        };\r\n        // console.log(\"user obj to social login: \", user);\r\n        socialLogin(user).then(data => {\r\n            console.log(\"signin data: \", data);\r\n            if (data.error) {\r\n                console.log(\"Error Login. Please try again..\");\r\n            } else {\r\n                console.log(\"signin success - setting jwt: \", data);\r\n                //console.log(data);\r\n                if (data.status === 1)\r\n                {\r\n                    this.props.getTags(true, data);\r\n                }\r\n                else if (data.status === 2)\r\n                {\r\n                    authenticate(data, () => {\r\n                        this.setState({ redirectToReferrer: true });\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        // redirect\r\n        const { redirectToReferrer } = this.state;\r\n        if (redirectToReferrer) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n \r\n        return (\r\n            <GoogleLogin\r\n                clientId=\"679380407525-2cvoah9gpsjjffc5k1p6atahhf2vqfl4.apps.googleusercontent.com\"\r\n                buttonText=\"Login with Google\"\r\n                onSuccess={this.responseGoogle}\r\n                onFailure={this.responseGoogle}\r\n            />\r\n        );\r\n    }\r\n}\r\n \r\nexport default SocialLogin;","export const read = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: user\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\n\r\n\r\nexport const remove = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const list = () => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n    if (typeof window !== 'undefined' ) \r\n    {\r\n        if (localStorage.getItem('jwt'))\r\n        {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user;\r\n            localStorage.setItem('jwt', JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n}\r\n\r\nexport const follow = (userId, token, followId) => {\r\n    //console.log(userId, followId);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ userId, followId })\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unfollow = (userId, token, unfollowId) => {\r\n    //console.log(userId, followId);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ userId, unfollowId })\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const findPeople = (userId, token ) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const updateTags = (userId, token, userTags) => {\r\n    \r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/update/tags`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, userTags})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const attend = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/post/attend`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unattend = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/post/unattend`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const getAttend = (userId, token) => {\r\n    console.log(\"getAttend\");\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/attend/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}","import React, { Component } from 'react';\r\nimport { Link, Redirect} from 'react-router-dom';\r\nimport {signin, authenticate} from '../auth';\r\nimport SocialLogin from './SocialLogin';\r\nimport {updateTags} from '../user/apiUser';\r\n\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\n\r\nexport default class Signin extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            redirectToReferer: false,\r\n            loading: false,\r\n            showTags: false,\r\n            tags: [0,0,0,0,0,0,0,0]\r\n        }\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        this.setState({error: \"\"});\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        this.setState({loading: true});\r\n        const {email, password} = this.state;\r\n        const user = {                                  // or       const user = {             \r\n            email: email,                               //              email,\r\n            password: password                          //              password\r\n        };                                              //          };\r\n        // console.log(user);\r\n        signin(user)\r\n        // checking for error response\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error, loading: false})\r\n            }\r\n            else\r\n            {\r\n                // if successful login, redirect to new page\r\n                // authenticate user \r\n                    authenticate(data, () => {\r\n                        this.setState({redirectToReferer: true})\r\n                    })\r\n                // and then redirect\r\n                \r\n            }\r\n        })\r\n    };\r\n\r\n \r\n    showTags = (flag, data) => {\r\n        this.setState({ showTags: flag, data: data});\r\n    }\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">New User! Choose your interested Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n\r\n            <button onClick={this.submitTags} className=\"btn btn-raised btn-primary\">Submit Tags</button>\r\n            \r\n        </div>\r\n    )\r\n\r\n    submitTags = () => {\r\n        const {data} = this.state;\r\n        const token = data.token;\r\n        const userId = data.user._id;\r\n        let arr = this.state.tags;\r\n        arr.map((value, index) => {\r\n            if (value === 0)\r\n            {\r\n                arr[index] = 0.25;\r\n            }\r\n            return null;\r\n        })\r\n        updateTags(userId, token, arr).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n        authenticate(data, () => {\r\n            this.setState({redirectToReferer: true})\r\n        })\r\n\r\n    }\r\n    \r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({open: false});\r\n        \r\n        console.log(name + event.target.checked);\r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 0.75 : 0;\r\n        this.setState({ tags: arr });\r\n        // console.log(\"Tags: \" + this.state.tags);\r\n    }\r\n\r\n\r\n    signinForm = (email, password) => (\r\n\r\n        <form>\r\n            \r\n            <div className=\"form-group\" style={{width: \"40%\", margin:\"auto\"}}>\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\" style={{width: \"40%\", margin:\"auto\"}}>\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n            \r\n            <br />\r\n            <center>\r\n                <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary d-inline\">Submit</button>\r\n            </center>\r\n\r\n        </form>\r\n    )\r\n\r\n\r\n    render() {\r\n        const {email, password, error, redirectToReferer, loading} = this.state;\r\n        if (redirectToReferer) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            <div className=\"container mt-3\" style={{backgroundColor:\"#ffffff\"}}>\r\n                <br />\r\n                <h2 className=\"\">Sign In</h2>\r\n\r\n                <hr />\r\n                <br />\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {!this.state.showTags && this.signinForm(email, password)}\r\n            \r\n                {!this.state.showTags && (\r\n                    <>\r\n                        <center>\r\n                        <p>\r\n                            <Link to=\"/forgot-password\" className=\"btn btn-raised btn-danger d-inline\">{\" \"}Forgot Password</Link>\r\n                        </p>\r\n                        </center>\r\n                                \r\n                                        <center>\r\n                            <br />\r\n                            <h4 className=\"text-muted\"> OR </h4>\r\n                            <br />\r\n                            <SocialLogin getTags={this.showTags}/>\r\n                        </center>\r\n                    </>   \r\n                )}\r\n\r\n                \r\n                { this.state.showTags && this.tagsForm()}\r\n\r\n\r\n                <br />\r\n                <br />\r\n                <br />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/avatar.cea2a1dd.png\";","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { isAuthenticated, signout } from '../auth';\r\nimport { remove } from './apiUser';\r\n\r\nclass DeleteUser extends Component {\r\n\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    deleteAccount = () => {\r\n        console.log(\"Delete Account\")\r\n        const token = isAuthenticated().token;\r\n        const userId = this.props.userId;\r\n        remove(userId,token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                // signout user using signout() writtin in src/auth/index.js\r\n                signout(() => console.log(\"User is deleted\"));\r\n                // redirect - we need state\r\n                this.setState({ redirect: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your account? This will delete all your details from our database.\");\r\n        if (answer)\r\n        {\r\n            this.deleteAccount();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect)\r\n        {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            \r\n                <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">Delete Profile</button>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default DeleteUser;","import React, { Component } from 'react';\r\nimport {follow, unfollow} from './apiUser';\r\n\r\nclass FollowProfileButton extends Component {\r\n\r\n    followClick = () => {\r\n        this.props.onButtonClick(follow);\r\n    };\r\n\r\n    unfollowClick = () => {\r\n        this.props.onButtonClick(unfollow);\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"d-inline-block\">\r\n                    {\r\n                        !this.props.following ?\r\n                        (\r\n                            <button className=\"btn btn-success btn-raised mr-5\" onClick={this.followClick}>\r\n                                Follow\r\n                            </button>\r\n                        )\r\n                        :\r\n                        (   \r\n                            <button className=\"btn btn-warning btn-raised\" onClick={this.unfollowClick}>\r\n                                Unfollow\r\n                            </button>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FollowProfileButton;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass ProfileTabs extends Component {\r\n    render() {\r\n        const {following, followers, posts, name} = this.props;\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Followers ({followers.length})</h3>\r\n                        <hr />\r\n                        {\r\n                            followers.map((person, i) => (\r\n                                <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}> \r\n                                            <img \r\n                                                className=\"float-left mr-2\" \r\n                                                style={{height: \"30px\", width: \"30px\", borderRadius: \"50%\"}}\r\n                                                src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                                alt={person.name} \r\n                                                onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                            />\r\n                                            <div>\r\n                                                <p className=\"lead\">{person.name}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Following ({following.length})</h3>\r\n                        <hr />\r\n                        {\r\n                            following.map((person, i) => (\r\n                                <div key={i}>\r\n                                    \r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}> \r\n                                            <img \r\n                                                className=\"float-left mr-2\" \r\n                                                style={{height: \"30px\", width: \"30px\", borderRadius: \"50%\"}}\r\n                                                src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                                alt={person.name} \r\n                                                onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                            />\r\n                                            <div>\r\n                                                <p className=\"lead\">{person.name}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">{name}'s Events  ({posts.length})</h3>\r\n                            <hr />\r\n                            {\r\n                                posts.map((post, i) => (\r\n                                    <div key={i}>\r\n                                        \r\n                                        <div>\r\n                                            <Link to={`/post/${post._id}`}> \r\n                                                <div>\r\n                                                    <p className=\"lead\">{post.title}</p>\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                ))\r\n                            }\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileTabs;","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport { read } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport DeleteUser from './DeleteUser';\r\nimport FollowProfileButton from './FollowProfileButton';\r\nimport ProfileTabs from './ProfileTabs';\r\nimport { listByUser } from '../post/apiPost'\r\n\r\n// import Users from './Users';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass Profile extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            user: {following: [], followers: []},\r\n            redirectToSignin: false,\r\n            load: false,\r\n            following: true,\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    // check follow\r\n    checkFollow = user => {\r\n        const jwt = isAuthenticated();\r\n        const match = user.followers.find(follower => {\r\n            // one id has many other ids (followers) and vice versa\r\n            return follower._id === jwt.user._id\r\n        })\r\n        return match\r\n    }\r\n\r\n    // sends the method to FollowProfileButton.js\r\n    clickFollowButton = callApi => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n    \r\n        // console.log(userId, this.state.user._id)\r\n        callApi(userId, token, this.state.user._id).then(data => {\r\n            if (data.error) {\r\n                this.setState({ error: data.error });\r\n                // console.log(\"error is here\\n\", data)\r\n            } else {\r\n                this.setState({ user: data, following: !this.state.following });\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // to get userid from url\r\n\r\n    init = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToSignin: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                let following = this.checkFollow(data)\r\n                this.setState({user: data, load: true, following: following});\r\n                this.loadPosts(data._id);\r\n            }\r\n        });\r\n    }\r\n\r\n    loadPosts = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        listByUser(userId, token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else \r\n            {\r\n                this.setState({ posts: data});\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        const userId = props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-3 mr-2' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Interested Tags:</label>\r\n            <br />\r\n            <div className=\"button-group\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    render() {\r\n        //this.init();\r\n        const {redirectToSignin, user, posts} = this.state;\r\n       \r\n        if (redirectToSignin)\r\n        {\r\n            return <Redirect to=\"/signin\" />\r\n        }\r\n\r\n        const photoUrl = user._id ? `${process.env.REACT_APP_API_URL}/user/photo/${user._id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Profile: {user.name}</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        \r\n                        <img \r\n                            style={{height: \"300px\", width:\"auto\"}} \r\n                            className=\"img-thumbnail\" \r\n                            src={photoUrl} \r\n                            onError={i => (\r\n                                i.target.src = `${DefaultProfile}`\r\n                                )}  \r\n                            alt={user.name}>\r\n                        </img>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-md-8\">\r\n                        \r\n                        <div className=\"lead mt-5\">\r\n                            \r\n                            <p>Email: {user.email}</p>\r\n                            <p>{`Joined on: ${new Date(user.created).toDateString()}`}</p>\r\n                            \r\n                            \r\n                            {(this.state.load) && this.tagsList(user.tags)}\r\n                        </div>\r\n\r\n                            \r\n                        {\r\n                            isAuthenticated().user && isAuthenticated().user._id === user._id ? (\r\n                                \r\n                                <div className=\"d-block\">\r\n                                    {\r\n                                    <Link className=\"btn btn-raised btn-light bg-dark mr-2\" to={`/user/attending/${user._id}`}>\r\n                                        Upcoming Events\r\n                                    </Link>\r\n                                    }\r\n                                    <Link className=\"btn btn-raised btn-primary mr-2\" to={`/user/post/new/${user._id}`}>\r\n                                        Create Event\r\n                                    </Link>\r\n                                    \r\n                                    <Link className=\"btn btn-raised btn-success mr-2\" to={`/user/edit/${user._id}`}>\r\n                                        Edit Profile\r\n                                    </Link>\r\n                                    \r\n                                    <DeleteUser userId={ user._id} />\r\n                                    \r\n                                </div>\r\n\r\n                            ) : (<FollowProfileButton following={this.state.following} onButtonClick={this.clickFollowButton}/>)\r\n                        }\r\n\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col md-12 mt-5 mb-5\">\r\n                        <hr />\r\n                        <p className=\"lead\">{user.about}</p>\r\n                        <hr />\r\n\r\n                        <ProfileTabs followers={user.followers} following={user.following} posts={posts} name={user.name}/>\r\n\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport { list } from './apiUser';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass Users extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            users: [],\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // list method written in src/user/apiUser.js\r\n        list().then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({users: data, loading: false});\r\n            }\r\n        })\r\n    }   \r\n\r\n    renderUsers = (users) => (\r\n        <div className=\"row\">\r\n            {\r\n                users.map((user , i) => (\r\n                    <div className=\"card col-md-4 mt-3\" key={i}>\r\n                    \r\n                        <div className=\"card-body\">\r\n\r\n                            <img \r\n                                style={{height: \"300px\", width:\"100%\"}} \r\n                                className=\"img-thumbnail\" \r\n                                src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                                onError={i => (\r\n                                    i.target.src = `${DefaultProfile}`\r\n                                    )} \r\n                                alt={user.name}> \r\n                            </img>\r\n\r\n                            <h5 className=\"card-title\">{user.name}</h5>\r\n                            <p className=\"card-text\">{user.email}</p>\r\n                            <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">View Profile</Link>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            )}   \r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const {users, loading} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">All Users</h2>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n\r\n                {this.renderUsers(users)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  Users;","import React, { Component } from 'react';\r\nimport { isAuthenticated } from '../auth';\r\nimport { read, update, updateUser } from './apiUser';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass EditProfile extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            id: \"\",\r\n            name: \"\",\r\n            email: \"\",\r\n            about: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n            redirectToProfile: false,\r\n            error: \"\",\r\n            fileSize: 0,\r\n            loading: false,\r\n            defaultImage: true,\r\n            imagePath: ''\r\n        }\r\n    }\r\n\r\n    // to get userid from url\r\n\r\n    init = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                this.setState({ id: data._id, name: data.name, email: data.email, error: \"\", about: data.about });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.userData = new FormData();                 // API\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.userData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const {name, email, password, repassword, fileSize} = this.state;\r\n        \r\n        if (fileSize > 250000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (name.length === 0)\r\n        {\r\n            this.setState({error: \"Name is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email) )\r\n        {\r\n            this.setState({error: \"Valid Email is required.\"});\r\n            return false;\r\n        }\r\n        if (password.length >= 1 && password.length <= 7)\r\n        {\r\n            this.setState({error: \"Password must be atleast 8 characters in length.\"});\r\n\r\n            return false;\r\n        }\r\n\r\n        if (password !== repassword)\r\n        {\r\n            this.setState({error: \"Entered passwords do not match.\"});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        \r\n\r\n        if (this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const userId = this.props.match.params.userId;\r\n            const token = isAuthenticated().token;\r\n\r\n            update(userId, token, this.userData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    updateUser(data, () => {\r\n                        this.setState({\r\n                            redirectToProfile: true\r\n                        })\r\n                    });\r\n                    \r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n    signupForm = (name, email, about, password, repassword) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Profile Picture</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={this.handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <label type=\"email\" className=\"form-control font-italic\" value={email}>{email}</label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">About</label>\r\n                <textarea onChange={this.handleChange(\"about\")} type=\"text\" className=\"form-control\" value={about}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">New Password</label>\r\n                <br />\r\n                <label className=\"text-muted\" style={{fontSize: \"0.75em\"}}>(Leave empty if you do not wish to update password)</label>\r\n                \r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control mb-3\" value={password} />\r\n                { password && (\r\n                    <>\r\n                        <label className=\"text-muted\">Re-Enter Password</label>\r\n                        <input onChange={this.handleChange(\"repassword\")} type=\"password\" className=\"form-control\" value={repassword} />\r\n                    </>    \r\n                    )\r\n                }\r\n                \r\n            </div>\r\n            \r\n            \r\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Update</button>\r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const { id, name, email, password, repassword, redirectToProfile, error, loading, about, defaultImage, imagePath } = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${id}`} />\r\n        }\r\n\r\n        const photoUrl = id ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\" >\r\n                <h2 className=\"mt-5 mb-5\">Edit Profile</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={photoUrl}\r\n                                    alt={name}\r\n                                    onError={i => i.target.src = `${DefaultProfile}`}                     \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Existing Event Image</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={name} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                } \r\n\r\n                {isAuthenticated().user.role === \"admin\" ||\r\n                    (isAuthenticated().user._id === id &&\r\n                        this.signupForm(name, email, about, password, repassword))}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  EditProfile;","import React from 'react';\r\nimport { Route, Redirect} from 'react-router-dom';\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    // props means components passed down to this private route component\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props } />\r\n    ) : (\r\n        <Redirect to={{pathname: \"/signin\", state: {from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default PrivateRoute;","import React, { Component } from 'react';\r\nimport { findPeople, follow } from './apiUser';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport { isAuthenticated } from '../auth';\r\n\r\nclass FindPeople extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            users: [],\r\n            open: false,\r\n            error: \"\",\r\n            followMessage: \"\",\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n        // method written in src/user/apiUser.js\r\n        findPeople(userId, token).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"Data: \", data);\r\n                this.setState({users: data, loading: false});\r\n            }\r\n        })\r\n    }   \r\n\r\n    clickFollow = (user, i) => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        follow(userId, token, user._id)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error})\r\n            }\r\n            else\r\n            {\r\n                let toFollow = this.state.users;\r\n                toFollow.splice(i, 1);              // to remove the user from the list of users being suggested\r\n                this.setState({\r\n                    users: toFollow,\r\n                    open: true,                     // determine when to show message that the new account has been followed\r\n                    followMessage: `Following ${user.name}`,\r\n                    error: \"\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    renderUsers = (users) => (\r\n        <div className=\"row\">\r\n            {\r\n                users.map((user , i) => (\r\n                    <div className=\"card col-md-4 mt-3\" key={i}>\r\n                    \r\n                        <div className=\"card-body\">\r\n\r\n                            <img \r\n                                style={{height: \"300px\", width:\"100%\"}} \r\n                                className=\"img-thumbnail\" \r\n                                src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                                onError={i => (\r\n                                    i.target.src = `${DefaultProfile}`\r\n                                    )} \r\n                                alt={user.name}> \r\n                            </img>\r\n                            <h5 className=\"card-title\">{user.name}</h5>\r\n                            <p className=\"card-text\">{user.email}</p>\r\n\r\n                            <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">\r\n                                View Profile\r\n                            </Link>\r\n                            \r\n                            <button onClick={() => this.clickFollow(user, i)} className=\"btn btn-raised btn-info float-right btn-sm\">\r\n                                Follow\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            )}   \r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const {users, open, followMessage, loading} = this.state;\r\n        return (\r\n\r\n\r\n            <div className=\"container\" >\r\n                <h2 className=\"mt-5 mb-5\">Suggested Users</h2>\r\n                \r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {   \r\n                    open && <div className=\"alert alert-success\">\r\n                        <p>{followMessage}</p>\r\n                    </div>\r\n                }\r\n                {this.renderUsers(users)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  FindPeople;","import React, { Component } from 'react';\r\nimport { isAuthenticated } from '../auth';\r\nimport { create } from './apiPost';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass NewPost extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            title: \"\",\r\n            body: \"\",\r\n            photo: \"\",\r\n            venue: \"\",\r\n            dateAndTime: \"\",\r\n            error: \"\",\r\n            fileSize: 0,\r\n            loading: false,\r\n            redirectToProfile: false,\r\n            tagCheck: false,\r\n            open: false,\r\n            tags: [0,0,0,0,0,0,0,0],\r\n            defaultImage: true,\r\n            imagePath: \"\",\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.postData = new FormData();                 // API\r\n        this.setState({\r\n            user: isAuthenticated().user \r\n        })\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({tagCheck: true, open: false});\r\n        \r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 1:0;\r\n        this.setState({ tags: arr });\r\n        this.postData.set(\"tags\", arr);\r\n    }\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if (fileSize > 200000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (title.length === 0 || body.length === 0)\r\n        {\r\n            this.setState({error: \"Title and Body is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        \r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        // console.log(\"post \", this.postData);\r\n     \r\n        if (this.state.tagCheck && this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const userId = isAuthenticated().user._id;\r\n            const token = isAuthenticated().token;\r\n            \r\n            create(userId, token, this.postData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        loading: false,\r\n                        title: \"\",\r\n                        body: \"\",\r\n                        photo: \"\",\r\n                        tags: [0,0,0,0,0,0,0,0],\r\n                        redirectToProfile: true,\r\n                    })\r\n                    \r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            this.setState({open: true})\r\n        }\r\n    };\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    newPostForm = (title, body, venue, dateAndTime) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Image</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title</label>\r\n                <input onChange={this.handleChange(\"title\")} type=\"text\" className=\"form-control\" value={title}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={this.handleChange(\"body\")} type=\"text\" className=\"form-control\" value={body}/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Venue</label>\r\n                <input onChange={this.handleChange(\"venue\")} type=\"text\" className=\"form-control\" value={venue}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Date and Time</label>\r\n                <input onChange={this.handleChange(\"dateAndTime\")} type=\"text\" className=\"form-control\" value={dateAndTime}/>\r\n            </div>\r\n            \r\n            {this.tagsForm()}\r\n\r\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Create Post</button>\r\n\r\n            \r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const { title, body, venue, dateAndTime,user, loading, error, redirectToProfile, open, defaultImage, imagePath } = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${user._id}`} />\r\n        }\r\n\r\n        // const photoUrl = id ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Create New Event</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: open ? \"\" : \"none\"}}>\r\n                    Please Choose tags related to your Event        \r\n                </div>\r\n\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={DefaultPost}                     \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Default Image for an Event</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                }   \r\n\r\n                {this.newPostForm(title, body, venue, dateAndTime)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  NewPost;","import React, { Component } from 'react';\r\nimport { comment, uncomment} from './apiPost';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass Comment extends Component {\r\n    state = {\r\n        text: \"\",\r\n        error: \"\"\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({text: event.target.value, error: \"\"});\r\n    }\r\n\r\n    isValid = () => {\r\n        const {text} = this.state;\r\n        if ( !(text.length > 0) )\r\n        {\r\n            this.setState({error: \"Comment should not be empty.\"});\r\n            return false;\r\n        }\r\n        else if ( text.length > 150 )\r\n        {\r\n            this.setState({error: \"Comment max length is 150 characters\"});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    addComment = e => {\r\n        e.preventDefault();\r\n\r\n        if (!isAuthenticated()){\r\n            this.setState({error: \"Please Sign in to leave a comment\"})\r\n            return false;\r\n        }\r\n        \r\n\r\n        if (this.isValid())\r\n        {\r\n            const token = isAuthenticated().token;\r\n            const userId = isAuthenticated().user._id;\r\n            const postId = this.props.postId;\r\n            const newComment = {text: this.state.text};\r\n            comment(userId, token, postId, newComment)\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    console.log(data.error);\r\n                }\r\n                else\r\n                {\r\n                    this.setState({text: ''})\r\n                    // dispatch fresh list of comments to parent component (SinglePost)\r\n                    this.props.updateComments(data.comments);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    deleteComment = (comment) => {\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        const postId = this.props.postId;\r\n        uncomment(userId, token, postId, comment)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                // dispatch fresh list of comments to parent component (SinglePost)\r\n                this.props.updateComments(data.comments);\r\n            }\r\n        });\r\n    }\r\n\r\n    deleteConfirmed = (comment) => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your comment?\");\r\n        if (answer)\r\n        {\r\n            this.deleteComment(comment);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const {comments} = this.props;\r\n        comments.reverse();\r\n        const {error} = this.state;\r\n\r\n        return (\r\n            <div className=\"jumbotron\"> \r\n                \r\n                  \r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <h3 className=\"text-primary\">{\" \"}{comments.length} Comments <i className=\"fa fa-comment mb-2\" /></h3>\r\n                    <hr />\r\n                    <form onSubmit={this.addComment}>\r\n                        <div className=\"form-group mt-4\">\r\n                            <input type=\"text\" onChange={this.handleChange} className=\"form-control\" value={this.state.text} placeholder=\"Leave a Comment...\"/>\r\n                            <button className=\"btn btn-raised btn-success mt-2\">Post</button>\r\n                        </div>\r\n                    </form>\r\n\r\n                    {\r\n                        comments.map((comment, i) => {\r\n                            const posterProfile = comment.postedBy ? `/user/${comment.postedBy._id}` : \"\";\r\n                            const posterName = comment.postedBy ? comment.postedBy.name : \" Unknown\";\r\n                            const posterId = comment.postedBy ? `${comment.postedBy._id}` : \"\";\r\n                            \r\n                            return(\r\n                            <div key={i}>\r\n                                <div>\r\n                                    <Link to={`/user/${posterProfile}`}> \r\n                                        <img \r\n                                            className=\"float-left mr-2\" \r\n                                            style={{height: \"30px\", width: \"auto\", borderRadius: \"50%\"}}\r\n                                            src={`${process.env.REACT_APP_API_URL}/user/photo/${posterId}`} \r\n                                            alt={posterName} \r\n                                            onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                        />\r\n                                    </Link>\r\n                                    \r\n                                    <div>\r\n                                        <p className=\"lead\">{comment.text}</p>\r\n                                        <p className=\"font-italic mark bg-light\">\r\n                                            Posted By: <Link to={`/user/${posterProfile}`}>{posterName}{\" \"}</Link>\r\n                                            on {new Date(comment.created).toDateString()}\r\n                                            {console.log(isAuthenticated().user._id, \" \", posterId)};\r\n                                            <span>\r\n                                                {\r\n                                                    isAuthenticated().user && isAuthenticated().user._id === posterId && \r\n                                                    <>\r\n                                                        <span onClick={ () => this.deleteConfirmed(comment)} className=\"text-danger float-right mr-1\" style={{cursor:'pointer'}}>Remove</span>\r\n                                                    </>\r\n                                                }\r\n                                            </span>\r\n                                        </p>\r\n                                        <hr />\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            )\r\n                            \r\n                        })\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport { singlePost, remove, like, unlike, notInterested, undoNotInterested } from './apiPost';\r\nimport { read, updateTags, attend, unattend } from '../user/apiUser';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { isAuthenticated } from '../auth';\r\nimport Comment from './Comment';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass SinglePost extends Component {\r\n    state = {\r\n        post: '',\r\n        tags: [],\r\n        redirectToHome: false,\r\n        redirectToSignin: false,\r\n        like: false,\r\n        likes: 0,\r\n        notInterested: false,\r\n        userTags: [],\r\n        comments: []\r\n    }\r\n\r\n    checkLike = (likes) => {\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n        let match = (likes.indexOf(userId) !== -1);// indexOf returns -1 if not found\r\n        return match;\r\n    }\r\n\r\n    init = () => {\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                this.setState({userTags: data.tags});\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.init();\r\n        const postId = this.props.match.params.postId;\r\n        singlePost(postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState(\r\n                    {\r\n                        post: data, \r\n                        tags: data.tags,\r\n                        likes: data.likes.length,\r\n                        like: this.checkLike(data.likes),\r\n                        notInterested: this.checkLike(data.notInterested),\r\n                        comments: data.comments \r\n                    }\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    //  userTags[index] = (userTags[index] > 1) ? 1: userTags[index];\r\n    //  userTags[index] = (userTags[index] < 0) ? 0: userTags[index];\r\n\r\n    \r\n    updateTags = (flag) => {\r\n        const {tags, userTags} = this.state;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        tags.map( (value, index) => {\r\n            var change = 0.05 * tags[index];\r\n            if (flag)\r\n            {\r\n                userTags[index] += change;\r\n            }\r\n            else\r\n            {\r\n                userTags[index] -= change;\r\n            }\r\n            return true;\r\n        })\r\n        updateTags(userId, token, userTags).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n    }\r\n\r\n    updateComments = comments => {\r\n        this.setState({comments})\r\n    }\r\n\r\n\r\n    likeToggle = () => {\r\n        if (!isAuthenticated()) {\r\n            this.setState({ redirectToSignin: true });\r\n            return false;\r\n        }\r\n        console.log(\"like toggled\");\r\n        let callApi = this.state.like ? unlike : like;\r\n        let callApi2 = this.state.like ? unattend : attend;\r\n        const postId = this.state.post._id;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        callApi(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"like done\");\r\n                this.setState({\r\n                    like: !this.state.like,\r\n                    likes: data.likes.length,\r\n                    //notInterested: !this.state.notInterested\r\n                })\r\n                if (this.state.like && this.state.notInterested)\r\n                {\r\n                    this.notInterestedToggle();\r\n                }\r\n                this.updateTags(this.state.like);\r\n            }\r\n        })\r\n        callApi2(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n    }\r\n\r\n    notInterestedToggle = () => {\r\n        if (!isAuthenticated()) {\r\n            this.setState({ redirectToSignin: true });\r\n            return false;\r\n        }\r\n        console.log(\"notInterested toggled\");\r\n        let callApi = this.state.notInterested ? undoNotInterested : notInterested;\r\n        const postId = this.state.post._id;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        callApi(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"not interested done\");\r\n                this.setState({\r\n                    notInterested: !this.state.notInterested,\r\n                    //like: !this.state.like\r\n                })\r\n                if (this.state.notInterested && this.state.like)\r\n                {\r\n                    this.likeToggle();\r\n                }\r\n                this.updateTags(!this.state.notInterested);\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n    generateTags = (tags) => (\r\n        \r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-2 mr-2' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags:</label>\r\n            <br />\r\n            <div className=\"button-group\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    deletePost = () => {\r\n        const postId = this.props.match.params.postId;\r\n        const token = isAuthenticated().token;\r\n        remove(postId, token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({redirectToHome: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your event? This will delete all details regarding your event from our database.\");\r\n        if (answer)\r\n        {\r\n            this.deletePost();\r\n        }\r\n    }\r\n\r\n\r\n    renderPost = (post) => {\r\n\r\n        const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n        const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n        \r\n        const { like, likes, notInterested} = this.state;\r\n\r\n        return (\r\n\r\n            \r\n                <div className=\"card-body\">\r\n                    <img \r\n                        src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                        alt={post.title}\r\n                        onError={i => i.target.src = `${DefaultPost}`}\r\n                        className=\"img-thumbnail mb-3\"\r\n                        style={{height: \"400px\", width:\"100%\", objectFit: \"cover\"}}    \r\n                    />\r\n\r\n                    {(isAuthenticated().user._id !== post.postedBy._id) && (like ? \r\n                        (\r\n                            <h4 className=\"d-inline mr-1\">\r\n                                <i onClick={this.likeToggle} className=\"fa fa-thumbs-up text-success bg-dark\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                            </h4>\r\n                        ) \r\n                        : \r\n                        (\r\n                            <h4 className=\"d-inline mr-1\">\r\n                                <i  onClick={this.likeToggle} className=\"fa fa-thumbs-up text-light bg-dark\" style={{padding: '10px', borderRadius:\"50%\"}} />  \r\n                            </h4>\r\n                        )\r\n                    )}\r\n\r\n                    {(isAuthenticated().user._id !== post.postedBy._id) && (!notInterested ?\r\n                        (\r\n                            <h4 className=\"d-inline\">\r\n                                <i onClick={this.notInterestedToggle} className=\"fa fa-thumbs-down text-light bg-dark mr-3\" style={{padding: '10px', borderRadius:\"50%\"}}/>\r\n\r\n                            </h4>\r\n                        ) \r\n                        : \r\n                        (\r\n                            <h4 className=\"d-inline\">\r\n                                <i onClick={this.notInterestedToggle} className=\"fa fa-thumbs-down text-warning bg-dark m3-3\" style={{padding: '10px', borderRadius:\"50%\"}}/>\r\n\r\n                            </h4>\r\n                        )\r\n                    )}\r\n\r\n                    <h4 className=\"d-inline\">\r\n                       {\" \"}{likes} Attending\r\n\r\n                    </h4>\r\n\r\n                    {/*(isAuthenticated().user._id !== post.postedBy._id) && (!notInterested ?\r\n                        (\r\n                            <button onClick={this.notInterestedToggle} className=\"btn btn-raised btn-warning btn-sm btn-rounded mb-3 ml-5 d-inline\">Not Interested</button>\r\n                        )\r\n                        :\r\n                        (\r\n                            <button onClick={this.notInterestedToggle} className=\"btn btn-raised btn-light btn-sm btn-rounded mb-3 ml-5 d-inline\" style={{color: \"black\"}}>Undo Not Interested</button>\r\n                        )\r\n                    )*/\r\n                    }\r\n\r\n                    \r\n                    <p className=\"card-text mt-3\">{post.body}</p>\r\n                    <p className=\"card-text\"><strong>Venue:</strong> {post.venue}</p>\r\n                    <p className=\"card-text\"><strong>Date and Time:</strong> {post.dateAndTime}</p>\r\n                    <br />\r\n\r\n\r\n                    <p className=\"font-italic mark\">\r\n                        Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                        on {new Date(post.created).toDateString()}\r\n                    </p>\r\n\r\n                    {this.tagsList(this.state.tags)}\r\n\r\n                    <div className=\"d-inline-block\">\r\n                        <Link to={`/`} className=\"btn btn-raised btn-primary btn-sm mr-5\">Back to Events</Link>\r\n\r\n                        {\r\n                            isAuthenticated().user && isAuthenticated().user._id === post.postedBy._id && \r\n                            <>\r\n                                <Link to={`/post/edit/${post._id}`} className=\"btn btn-raised btn-warning btn-sm mr-5\">Update Event</Link>\r\n                                <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger btn-sm\">Delete Event</button>\r\n                            </>\r\n                        }\r\n                        \r\n                    </div>\r\n\r\n                </div>\r\n            \r\n            \r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {post, redirectToHome, redirectToSignin, comments } = this.state;\r\n\r\n        if (redirectToHome)\r\n        {\r\n            return <Redirect to={`/`} />\r\n        }\r\n        else if (redirectToSignin) \r\n        {\r\n            return <Redirect to={`/signin`} />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\r\n\r\n                { !post ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPost(post))}\r\n\r\n                <Comment postId={post._id} comments={comments.reverse()} updateComments={this.updateComments}/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SinglePost;","import React, { Component } from 'react'\r\nimport { singlePost, update } from './apiPost';\r\nimport { isAuthenticated } from '../auth';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass EditPost extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            id: '',\r\n            title: '',\r\n            body: '',\r\n            venue: '',\r\n            dateAndTime: '',\r\n            redirectToProfile: false,\r\n            error: '',\r\n            fileSize: 0,\r\n            loading: false,\r\n            defaultImage: true,\r\n            imagePath: \"\",\r\n            tags: [],\r\n        }\r\n    }\r\n\r\n    init = (postId) => {\r\n        singlePost(postId)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {               \r\n                this.setState({ \r\n                    id: data.postedBy._id, \r\n                    title: data.title, \r\n                    body: data.body, \r\n                    tags: data.tags,\r\n                    venue: data.venue,\r\n                    dateAndTime: data.dateAndTime,\r\n                    error: \"\",\r\n                });\r\n                console.log(this.state.tags)\r\n            }\r\n        });\r\n    }\r\n \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.postData = new FormData();                 // API\r\n        const postId = this.props.match.params.postId;\r\n        this.init(postId);\r\n    }\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if (fileSize > 200000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (title.length === 0 || body.length === 0)\r\n        {\r\n            this.setState({error: \"Title and Body is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        \r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        \r\n        console.log(this.state.tags);\r\n        if (this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const postId = this.state.id;\r\n            const token = isAuthenticated().token;\r\n\r\n            update(postId, token, this.postData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        loading: false,\r\n                        title: \"\",\r\n                        body: \"\",\r\n                        photo: \"\",\r\n                        redirectToProfile: true\r\n                    })\r\n                    \r\n                }\r\n            })\r\n        }\r\n    };\r\n    \r\n    tagChecked = (name) => event => {\r\n        this.setState({tagCheck: true, open: false});\r\n        \r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 1:0;\r\n        this.setState({ tags: arr });\r\n        this.postData.set(\"tags\", arr);\r\n    }\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    editPostForm = (id, title, body, venue, dateAndTime) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Image</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title</label>\r\n                <input onChange={this.handleChange(\"title\")} type=\"text\" className=\"form-control\" value={title}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Body</label>\r\n                <textarea onChange={this.handleChange(\"body\")} type=\"text\" className=\"form-control\" value={body}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Venue</label>\r\n                <input onChange={this.handleChange(\"venue\")} type=\"text\" className=\"form-control\" value={venue}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Date and Time</label>\r\n                <input onChange={this.handleChange(\"dateAndTime\")} type=\"text\" className=\"form-control\" value={dateAndTime}/>\r\n            </div>\r\n            \r\n\r\n            {this.tagsForm()}\r\n            <div className=\"d-inline-block\">\r\n                <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary mr-5\">Update Event</button>\r\n                <Link to={`/post/${id}`} className=\"btn btn-raised btn-danger\">Cancel</Link>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const {id, title, body, venue, dateAndTime, error, defaultImage, imagePath, redirectToProfile, loading} = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/post/${id}`} />\r\n        }\r\n        \r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 md-5\">Edit Event</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                ): (\r\n                    \"\"  \r\n                )}\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${id}`}\r\n                                    alt={title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}                     \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Existing Event Image</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                }   \r\n\r\n                {isAuthenticated().user.role === \"admin\" ||\r\n                    (isAuthenticated().user._id === id &&\r\n                        this.editPostForm(id, title, body, venue, dateAndTime))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPost;","import React, { Component } from 'react'\r\nimport { isAuthenticated } from '../auth';\r\nimport { getAttend, read } from '../user/apiUser';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass AttendPost extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToProfile: false,\r\n            posts: [],\r\n            loading: true,\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // list method written in src/user/apiUser.js\r\n        const userId = this.props.match.params.userId;\r\n        if ( userId !== isAuthenticated().user._id)\r\n        {\r\n            this.setState({redirectToProfile: true})\r\n        }\r\n        const token = isAuthenticated().token;\r\n        getAttend(userId, token).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({posts: data, loading: false});\r\n            }\r\n        })\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToSignin: true});\r\n            }\r\n            else \r\n            {\r\n                this.setState({user: data})\r\n            }\r\n        });\r\n    }   \r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-12 mr-1' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n    renderPosts = (posts) => {\r\n        return (\r\n            <div className=\"row\">\r\n            {   posts.map((post , i) => {\r\n                    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n                    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n                    return (\r\n                        <div className=\"card col-md-4\" key={i}>\r\n                            \r\n                            <div className=\"card-body\">\r\n                                <img \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                                    alt={post.title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}\r\n                                    className=\"img-thumbnail mb-3\"\r\n                                    style={{height: \"200px\", width:\"100%\"}}    \r\n                                />\r\n\r\n                                \r\n                                <h5 className=\"card-title\">{post.title}</h5>\r\n                                <p className=\"card-text\">{post.body.substring(0, 100)}</p>\r\n                                <br />\r\n                                <p className=\"font-italic mark\">\r\n                                    Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                                    on {new Date(post.created).toDateString()}\r\n                                </p>\r\n                                {this.tagsList(post.tags)}\r\n                                <Link to={`/post/${post._id}`} className=\"btn btn-raised btn-primary btn-sm\">Expand</Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}   \r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {posts, loading, user, redirectToProfile} = this.state;\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${user.name}`} />\r\n        }\r\n        return (\r\n            \r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\"> {user.name}'s Upcoming Events:</h2>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPosts(posts))}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AttendPost;","import React, { Component } from \"react\";\r\nimport { forgotPassword } from \"../auth\";\r\nimport { Link } from 'react-router-dom';\r\n \r\nclass ForgotPassword extends Component {\r\n    state = {\r\n        email: \"\",\r\n        message: \"\",\r\n        error: \"\"\r\n    };\r\n \r\n    forgotPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n        forgotPassword(this.state.email).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Password Reset</h2>\r\n \r\n                {this.state.message && (\r\n                    <div className=\"alert alert-success\">\r\n                        {this.state.message}        \r\n                    </div>\r\n                )}\r\n                {this.state.error && (\r\n                    <div className=\"alert alert-danger\">\r\n                        {this.state.error}       \r\n                    </div>\r\n                )}\r\n \r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Enter your Email Address\"\r\n                            value={this.state.email}\r\n                            name=\"email\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    email: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    \r\n                    <p>\r\n                        <button onClick={this.forgotPassword} className=\"btn btn-raised btn-primary mr-3 mt-3\">Send Password Reset Link</button>\r\n                        <Link to=\"/signin\" className=\"btn btn-raised btn-success mt-3\">{\" \"}Back To Signin</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ForgotPassword;","import React, { Component } from \"react\";\r\nimport { resetPassword } from \"../auth\";\r\nimport { Link } from 'react-router-dom';\r\n \r\nclass ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newPassword: \"\",\r\n            rePassword: \"\",\r\n            message: \"\",\r\n            error: \"\"\r\n        };\r\n    }\r\n \r\n\r\n    resetPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n\r\n        const newPassword = this.state.newPassword;\r\n        const rePassword = this.state.rePassword;\r\n\r\n        if (rePassword !== newPassword)\r\n        {\r\n            this.setState({error: \"Entered Passwords do not match\"});\r\n            return false;\r\n        }\r\n\r\n        resetPassword({\r\n            newPassword: this.state.newPassword,\r\n            resetPasswordLink: this.props.match.params.resetPasswordToken\r\n        }).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message, newPassword: \"\" });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Reset Your Password</h2>\r\n \r\n                {this.state.message && (\r\n                    <div className=\"alert alert-success\">\r\n                        {this.state.message}        \r\n                    </div>\r\n                )}\r\n                {this.state.error && (\r\n                    <div className=\"alert alert-danger\">\r\n                        {this.state.error}       \r\n                    </div>\r\n                )}\r\n \r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input type=\"password\" className=\"form-control mb-5\" placeholder=\"Your new password\" value={this.state.newPassword} name=\"newPassword\"\r\n                            onChange={e => this.setState({newPassword: e.target.value, message: \"\", error: \"\"})} autoFocus\r\n                        />\r\n\r\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Re-Enter new password\" value={this.state.rePassword} name=\"rePassword\"\r\n                            onChange={e => this.setState({rePassword: e.target.value, message: \"\", error: \"\"})} \r\n                        />\r\n                    </div>\r\n\r\n\r\n                    <p>\r\n                        <button onClick={this.resetPassword} className=\"btn btn-raised btn-primary mt-3 mr-3\">Reset Password</button>\r\n                        <Link to=\"/signin\" className=\"btn btn-raised btn-success mt-3\">{\" \"}Back To Signin</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ResetPassword;","import React, { Component } from 'react'\r\n\r\nclass UnknownProfile extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron\">\r\n                <center>\r\n                   <h2 className=\"lead\">Account No Longer Exists...</h2>\r\n                </center>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UnknownProfile;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nimport Home from './core/Home';\r\nimport Menu from './core/Menu';\r\nimport MenuMobile from './core/MenuMobile';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Profile from './user/Profile';\r\nimport Users from './user/Users';\r\nimport EditProfile from './user/EditProfile';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport FindPeople from './user/FindPeople';\r\nimport NewPost from './post/NewPost';\r\nimport SinglePost from './post/SinglePost';\r\nimport EditPost from './post/EditPost';\r\nimport AttendPost from './post/AttendPost';\r\nimport ForgotPassword from \"./user/ForgotPassword\";\r\nimport ResetPassword from \"./user/ResetPassword\";\r\nimport UnknownProfile from \"./user/UnknownProfile\";\r\n\r\nconst MainRouter = () => {\r\n\r\n    const isDesktopOrLaptop = useMediaQuery({\r\n        query: '(min-device-width: 700px)'\r\n    })\r\n\r\n    return ( \r\n        <div style={{fontFamily: \"-moz-initial\", backgroundColor:\"#dce1e3\", height: \"100%\"}}>\r\n            { isDesktopOrLaptop && <Menu />}\r\n            { !isDesktopOrLaptop && <MenuMobile />}\r\n\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Home}></Route>\r\n                    <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n                    <Route exact path=\"/reset-password/:resetPasswordToken\" component={ResetPassword} />\r\n                    <Route exact path=\"/users\" component={Users}></Route>\r\n                    <Route exact path=\"/signup\" component={Signup}></Route>\r\n                    <Route exact path=\"/signin\" component={Signin}></Route>\r\n                    <PrivateRoute exact path=\"/user\" component={UnknownProfile} />\r\n                    <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\r\n                    <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n                    <PrivateRoute exact path=\"/user/findpeople/:userId\" component={FindPeople} />\r\n                    <PrivateRoute exact path=\"/user/post/new/:userId\" component={NewPost} />\r\n                    <PrivateRoute exact path=\"/post/:postId\" component={SinglePost} />\r\n                    <PrivateRoute exact path=\"/post/edit/:postId\" component={EditPost} />\r\n                    <PrivateRoute exact path=\"/user/Attending/:userId\" component={AttendPost} />\r\n                </Switch>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MainRouter;","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport MainRouter from './MainRouter';\n\nconst App = () => (\n\t<BrowserRouter>\n\t\t<MainRouter />\n\t</BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}